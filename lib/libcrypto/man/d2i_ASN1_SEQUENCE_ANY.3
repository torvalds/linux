.\" $OpenBSD: d2i_ASN1_SEQUENCE_ANY.3,v 1.4 2025/06/08 22:40:30 schwarze Exp $
.\"
.\" Copyright (c) 2017, 2021 Ingo Schwarze <schwarze@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: June 8 2025 $
.Dt D2I_ASN1_SEQUENCE_ANY 3
.Os
.Sh NAME
.Nm d2i_ASN1_SEQUENCE_ANY ,
.Nm i2d_ASN1_SEQUENCE_ANY ,
.Nm d2i_ASN1_SET_ANY ,
.Nm i2d_ASN1_SET_ANY
.Nd decode and encode ASN.1 sequences and sets
.Sh SYNOPSIS
.Lb libcrypto
.In openssl/asn1.h
.Ft ASN1_SEQUENCE_ANY *
.Fo d2i_ASN1_SEQUENCE_ANY
.Fa "ASN1_SEQUENCE_ANY **val_out"
.Fa "const unsigned char **der_in"
.Fa "long length"
.Fc
.Ft int
.Fo i2d_ASN1_SEQUENCE_ANY
.Fa "const ASN1_SEQUENCE_ANY *val_in"
.Fa "unsigned char **der_out"
.Fc
.Ft ASN1_SEQUENCE_ANY *
.Fo d2i_ASN1_SET_ANY
.Fa "ASN1_SEQUENCE_ANY **val_out"
.Fa "const unsigned char **der_in"
.Fa "long length"
.Fc
.Ft int
.Fo i2d_ASN1_SET_ANY
.Fa "const ASN1_SEQUENCE_ANY *val_in"
.Fa "unsigned char **der_out"
.Fc
.Sh DESCRIPTION
These functions decode and encode ASN.1 sequences and sets,
which are also represented by the
.Dv V_ASN1_SEQUENCE
and
.Dv V_ASN1_SET
type identifier constants, respectively.
For details about the semantics, examples, caveats, and bugs, see
.Xr ASN1_item_d2i 3 .
.Pp
The type
.Vt ASN1_SEQUENCE_ANY
is defined as
.Vt STACK_OF(ASN1_TYPE) .
Whether such an object represents a sequence or a set is not stored
in the object itself but needs to be remembered separately.
.Pp
Like for
.Xr d2i_ASN1_TYPE 3
and
.Xr i2d_ASN1_TYPE 3 ,
the type of the individual values contained in the sequence or set
is not specified when calling the functions.
It might vary among the members, and it is stored together with
each value in each
.Vt ASN1_TYPE
object contained in the sequence or set.
.Sh RETURN VALUES
.Fn d2i_ASN1_SEQUENCE_ANY
returns an
.Vt ASN1_SEQUENCE_ANY
object or
.Dv NULL
if an error occurs.
.Pp
.Fn i2d_ASN1_SEQUENCE_ANY
returns the number of bytes written or a negative value if an error
occurs.
.Sh SEE ALSO
.Xr ASN1_item_d2i 3 ,
.Xr ASN1_TYPE_new 3
.Sh HISTORY
.Fn d2i_ASN1_SEQUENCE_ANY ,
.Fn i2d_ASN1_SEQUENCE_ANY ,
.Fn d2i_ASN1_SET_ANY ,
and
.Fn i2d_ASN1_SET_ANY
first appeared in OpenSSL 1.0.0 and have been available since
.Ox 4.9 .
