# SPDX-License-Identifier: GPL-2.0-only

# Branch profiling isn't noinstr-safe
subdir-ccflags-$(CONFIG_TRACE_BRANCH_PROFILING) += -DDISABLE_BRANCH_PROFILING

obj-y			+= kernel/ mm/ net/
obj-$(CONFIG_KVM)	+= kvm/
obj-$(CONFIG_XEN)	+= xen/
obj-$(subst m,y,$(CONFIG_HYPERV))	+= hyperv/
obj-$(CONFIG_CRYPTO)	+= crypto/

# for cleaning
subdir- += boot
