#
# Makefile for the Linux SuperH-specific parts of the memory manager.
#

obj-y			:= cache.o init.o extable_32.o consistent.o mmap.o

ifndef CONFIG_CACHE_OFF
cacheops-$(CONFIG_CPU_SH2)		:= cache-sh2.o
cacheops-$(CONFIG_CPU_SH2A)		:= cache-sh2a.o
cacheops-$(CONFIG_CPU_SH3)		:= cache-sh3.o
cacheops-$(CONFIG_CPU_SH4)		:= cache-sh4.o flush-sh4.o
cacheops-$(CONFIG_SH7705_CACHE_32KB)	+= cache-sh7705.o
endif

obj-y			+= $(cacheops-y)

mmu-y			:= tlb-nommu.o pg-nommu.o
mmu-$(CONFIG_MMU)	:= fault_32.o kmap.o tlbflush_32.o ioremap_32.o

obj-y			+= $(mmu-y)
obj-$(CONFIG_DEBUG_FS)	+= asids-debugfs.o

ifdef CONFIG_DEBUG_FS
obj-$(CONFIG_CPU_SH4)	+= cache-debugfs.o
endif

ifdef CONFIG_MMU
tlb-$(CONFIG_CPU_SH3)		:= tlb-sh3.o
tlb-$(CONFIG_CPU_SH4)		:= tlb-sh4.o
tlb-$(CONFIG_CPU_HAS_PTEAEX)	:= tlb-pteaex.o
obj-y				+= $(tlb-y)
endif

obj-$(CONFIG_HUGETLB_PAGE)	+= hugetlbpage.o
obj-$(CONFIG_PMB)		+= pmb.o
obj-$(CONFIG_PMB_FIXED)		+= pmb-fixed.o
obj-$(CONFIG_NUMA)		+= numa.o

EXTRA_CFLAGS += -Werror
